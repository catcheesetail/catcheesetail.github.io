---
layout:     post
title:      定时器 你真的会使用吗？
subtitle:   iOS定时器详解
date:       2016-12-13
author:     BY
header-img: img/post-bg-ios9-web.jpg
catalog: 	 true
tags:
    - JS_Advance
---
## 数据
一、分类

- 基本（值）数据类型：
	- Number：任意数字
	- String：任意字符串
	- Boolean：true    false
	- Null：null
	- Undefined：undefined
- 对象（引用）数据类型
	- Object
	- Function：特殊的对象（保存可执行代码）
	- Array：特殊的对象（保存有序数据，下标）

二、判断

- typeof
	- Number  String  Boolean  Undefined   Function
	- 不能判断Object与Null   Object与Array
	instanceof
		判断具体的对象类型   A instanceof B：A是否是B的实例，在原型链上能否找到A与B的一条线
	===	
		Null   Undefined

三、内存

- 数据：存储于内存中代表特定信息的，本质是‘010101’二进制
    - 具有可读  可传递   可操作的特点
	- 程序操作的目标就是数据

- 内存：内存条通电后产生的可存储数据的空间（临时的）
	- 生命周期：通电----->产生空间----->存储数据------->处理数据------->断电------->内存空间可数据消失
	- 内存的两个数据：地址值   内部存储的数据
	- 内存分类：
		- 栈：局部变量/全局变量
		- 堆：对象

- 变量（可变化的量）
	- 变量名和变量值	

四、问题与思考

- undefined与null的区别?
  - undefined代表没有赋值
  - null代表赋值了, 只是值为null
   
- 什么时候给变量赋值为null呢?
  - var a = null //a将指向一个对象, 但对象此时还没有确定
  - a = null //让a指向的对象成为垃圾对象

- 严格区别变量类型与数据类型?
  - js的变量本身是没有类型的, 变量的类型实际上是变量内存中数据的类型
  - 变量类型:
    - 基本类型: 保存基本类型数据的变量
    - 引用类型: 保存对象地址值的变量
  - 数据对象
    - 基本类型
    - 对象类

- 内存,数据, 变量三者之间的关系
  - 内存是一个容器, 用来存储程序运行需要操作的数据
  - 变量是内存的标识, 我们通过变量找到对应的内存, 进而操作(读/写)内存中的数据

- 问题: var a = xxx, a内存中到底保存的是什么?
  - 当xxx是基本数据类型时，保存的是变量的值
  - 当xxx是对象时，保存的是对象在对内存中的地址值
  - 当xxx是一个变量时，保存的是这个变量内存空间的内容，可能是基本数据也可能是地址值

- 关于引用变量赋值问题
  -  两个引用变量指向同一个对象，其中一个变量修改了对象的属性，另一个变量看到的是修改后的属性
  - 两个引用变量指向同一个对象，一个变量指向另一个对象，另一个对象还是指向前一个对象


- 问题: 在js调用函数时传递变量参数时, 是值传递还是引用传递
    - 值传递（基本/地址值）
    - 如果把地址值的传递理解为引用传递  则既有值传递又有引用传递

- 问题: JS引擎如何管理内存?
    - 内存生命周期
      - 分配小内存，获取使用权
      - 存储数据，进行反复操作
      - 释放小内存空间
    - 释放内存
      - 局部变量：函数执行完，自动释放
      - 对象：成为垃圾对象（引用指向为空），垃圾回收器回收

误区一：栈内存中的变量不会释放（堆内存中的局部变量会释放）

## 对象
一、概念
- 多个数据的封装体  用来保存多个数据的容器  一个对象代表现实中的一个事物
- 对象的组成：属性（属性名（字符串）和属性值（任意）组成）
  - 方法（一种特殊的属性，属性值为函数）
    
二、特点

- 可统一管理多个数据
	
三、操作
- obj.name  编码简单  有时不能用
- obj[name] 编码复杂  通用

四、问题

- 问题: 什么时候必须使用['属性名']的方式?
    - 当属性名含有特殊字符串时，如空格  -
    - 当属性值为变量时


## 函数
一、概念
- 实现特定功能的n条语句的封装体
- 只有函数可以执行  其他类型数据都不可执行

二、特点
- 提高代码重用率
- 避免污染全局命名空间
- 便于交流

三、操作
- 定义函数
    - 函数声明
    - 表达式
- 调用(执行)函数
    - test()  直接调用
    - obj.test()通过对象调用
    -  new test()构造函数的方式调用
    - test.call/apply(obj)指定obj对象调用

四、回调函数
- 我们定义
- 我们不调用
- 最终它执行了

* 常见的回调函数
    - dom事件回调函数-------this是发生事件的的元素对象
    - 定时器回调函数---------window
    - ajax请求回掉函数
    - 生命周期回掉函数

五、IIFE立即执行函数
- Immediately-Invoked Function Expression  立即执行函数表达式---匿名函数自调用
- 作用
    - 隐藏实现
    - 不会污染外部全局命名空间
    - 编写js模块

六、问题与思考
1. this是什么?
  * 函数从本质上都是由对象调用的，如果没有指定函数的调用对象，则为window
     this是调用当前函数的对象

2. 如何确定this的值?
  * 没有指定，      window
  * obj.test();     obj
  * new Test();     new Test()创建的对象
  * call/apply(obj);obj
